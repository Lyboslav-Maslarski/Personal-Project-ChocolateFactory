<app-header></app-header>
<h1>Edit Profile</h1>
<div class="separator"></div>
<form
  class="row g-3"
  #editProfileForm="ngForm"
  (ngSubmit)="submitForm(editProfileForm.value)"
>
  <div class="before"></div>
  <div class="col-12">
    <label for="email" class="form-label">Email</label>
    <input
      type="email"
      class="form-control"
      id="email"
      name="email"
      [(ngModel)]="email"
      #emailInput="ngModel"
      placeholder="example@exmaple.com"
      required
      pattern="^[^@]{3,}@(abv|gmail)\.(bg|com)$"
      minlength="10"
      maxlength="30"
    />
  </div>
  <ng-container *ngIf="emailInput.touched || emailInput.dirty">
    <div class="error" *ngIf="emailInput.errors?.['required']">
      Email is required.
    </div>
    <div class="error" *ngIf="emailInput.errors?.['pattern']">
      Invalid email.
    </div>
    <div class="error" *ngIf="emailInput.errors?.['minlength']">
      Email should be between 6 and 30 symbols.
    </div>
  </ng-container>
  <div class="col-12">
    <label for="fullName" class="form-label">Full name</label>
    <input
      type="text"
      class="form-control"
      id="fullName"
      name="fullName"
      [(ngModel)]="fullName"
      #fullNameInput="ngModel"
      placeholder="John Dow"
      required
      minlength="5"
      maxlength="30"
    />
  </div>
  <ng-container *ngIf="fullNameInput.touched || fullNameInput.dirty">
    <div class="error" *ngIf="fullNameInput.errors?.['required']">
      Name is required.
    </div>
    <div class="error" *ngIf="fullNameInput.errors?.['minlength']">
      Name should be between 5 and 30 symbols.
    </div>
  </ng-container>
  <div class="col-12">
    <label for="city" class="form-label">City</label>
    <input
      type="text"
      class="form-control"
      id="city"
      name="city"
      placeholder="Sofia"
      [(ngModel)]="city"
      required
      #cityInput="ngModel"
      minlength="3"
      maxlength="10"
    />
  </div>
  <ng-container *ngIf="cityInput.touched || cityInput.dirty">
    <div class="error" *ngIf="cityInput.errors?.['required']">
      City is required.
    </div>
    <div class="error" *ngIf="cityInput.errors?.['minlength']">
      City should be between 3 and 10 symbols.
    </div>
  </ng-container>
  <div class="col-12">
    <label for="address" class="form-label">Address</label>
    <input
      type="text"
      class="form-control"
      id="address"
      name="address"
      placeholder="1234 Main St"
      [(ngModel)]="address"
      required
      #addressInput="ngModel"
      minlength="10"
      maxlength="100"
    />
  </div>
  <ng-container *ngIf="addressInput.touched || addressInput.dirty">
    <div class="error" *ngIf="addressInput.errors?.['required']">
      Address is required.
    </div>
    <div class="error" *ngIf="addressInput.errors?.['minlength']">
      Address should be between 10 and 100 symbols.
    </div>
  </ng-container>
  <div class="col-12">
    <label for="phone" class="form-label">Phone</label>
    <input
      type="text"
      class="form-control"
      id="phone"
      name="phone"
      placeholder="+359 888 888 888"
      [(ngModel)]="phone"
      required
      #phoneInput="ngModel"
      minlength="6"
      maxlength="20"
    />
  </div>
  <ng-container *ngIf="phoneInput.touched || phoneInput.dirty">
    <div class="error" *ngIf="phoneInput.errors?.['required']">
      Phone is required.
    </div>
    <div class="error" *ngIf="phoneInput.errors?.['minlength']">
      Phone should be between 6 and 20 symbols.
    </div>
  </ng-container>
  <div class="error" *ngIf="error !== ''">
    {{ error }}
  </div>
  <div class="col-12 btn-div">
    <button type="submit" class="btn btn-primary">Edit Profile</button>
  </div>
  <div class="after"></div>
</form>
<app-footer></app-footer>
